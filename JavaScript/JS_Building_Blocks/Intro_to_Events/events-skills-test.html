<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test Your Skills: Events</title>
        <style>
            p {
                color: purple;
                margin: 0.5em 0;
            }

            * {
                box-sizing: border-box;
            }

            h2,
            #ex-1 {
                margin-left: 15px;
            }

            canvas,
            section[class|=preview] {
                border: 1px solid #828282;
                width: 50%; 
                margin: 15px 0 20px 15px;
                padding: 10px;
            }

            .ex-3 {
                display: block;
                margin: 20px 0 20px 20px;
            }

            .button-bar {
                padding: 20px 0;
            }

        </style>
    </head>
    <body>
        <h2>Events Skills Test 1</h2>

        <section class="preview-1">
            


        </section>

        <button class="off" id="ex-1">Machine is off</button>

        <h2>Events Skills Test 2</h2>

        <section class="preview-2">
           


        </section>

        <canvas width="480" height="320">

        </canvas>

        <h2>Events Skills Test 3</h2>

        <section class="preview-3">
            


        </section>

        <div class="button-bar">
            <button data-color="red" class="ex-3">Red</button>
            <button data-color="yellow" class="ex-3">Yellow</button>
            <button data-color="green" class="ex-3">Green</button>
            <button data-color="purple" class="ex-3">Purple</button>
        </div>

        <script>
    
            // *** Events Skills Test 1 ***
    
            let btn = document.querySelector('.off');
    
            // Add your code here
    
            btn.onclick = function() {
                if (btn.className === 'off') {
                    btn.className = 'on';
                    btn.textContent = 'Machine is on';
                } else {
                    btn.className = 'off';
                    btn.textContent = 'Machine is off';
                }
            }
            
    
            // *** Events Skills Test 2 ***
    
            let canvas = document.querySelector('canvas');
            let ctx = canvas.getContext('2d');

            function drawCircle(x, y, size) {
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.beginPath();
                ctx.fillStyle = 'black';
                ctx.arc(x, y, size, 0, 2 * Math.PI);
                ctx.fill();
            }
            
            let x = 50;
            let y = 50;
            const size = 30;

            drawCircle(x, y, size);

            // Add your code here

            window.addEventListener('keypress', (e) => {
                switch(e.key) {
                    case 'a':
                        x -= 2;
                        break;
                    case 'd':
                        x += 2;
                        break;
                    case 'w':
                        y -= 2;
                        break;
                    case 's':
                        y += 2;
                        break;
                }

                drawCircle(x, y, size);
            });
            
            /*
                Ugh! OK, more truthyness: I had solved this "Events Skills Test 2" in a previously-created folder so I will
                attempt to describe this solution:

                First, an `addEventListener` is set on the `window` itself to "listen" for two parameters: a `keypress` and
                an event (e).
                Then a `switch` statement is created to evaulate multiple possible expressions--in this case, a keyboard event
                happening (e.key). The keyboard event will be when the user presses (`keypress`) either the 'W' key, or the 'A'
                key, or the 'S' key, or the 'D' key.
                Each `case` in the `switch` statement is set to (e.key) value: 'w', 'a', 's', and 'd'.
                For each `case`, the `x` or`y` parameter of the `drawCircle()` function is changed:

                If 'a' is pressed, the value of `x` is subtracted by 2.
                If 'd' is pressed, the value of `x` is added by 2.
                If 'w' is pressed, the value of `y` is subtracted by 2.
                If 's' is pressed, the value of `y` is added by 2.

                This moves the circle in the <canvas> by 2 grid points up, down, left, or right, depending on which key is pressed.
            */

    
            // *** Events Skills Test 3 ***
    
            let buttonBar = document.querySelector('.button-bar');

            // Add your code here

            function setColor(e) {
                buttonBar.style.backgroundColor = e.target.getAttribute('data-color');
            }

            buttonBar.addEventListener('click', setColor);

            /*
                Started this example as:

                buttonBar.addEventListener('click', function(e) {

                });

                ...but I could not figure out how to grab the `data-color` from each button and use it as the background color.
                So I am going to explain the solution above:

                First, a function is created called `setColor` with an event object (e) parameter. The event target (e.target) 
                is 'data-color' of all the buttons in the button bar. When a button is selected, the attribute (the color) of 
                the button's 'data-color' is made to equal the color of the background of the button bar.

                The button bar has an event listener set on it, to listen for a 'click' (any one of the buttons), and when a
                button is clicked, the `setColor()` function is run.
            */

            /*
                I think I obviously need to review the JavaScript Building Blocks module since I'm not able to figure out the
                solutions for many of these Skills Tests.
            */
    
        </script>
    </body>
</html>